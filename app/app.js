angular.module("codexen",["ngSanitize","ui.select","ui.ace","ui.router","ui.bootstrap","satellizer","angular-md5","templates"]),angular.module("templates",[]);
angular.module("codexen").constant("aceModes",["ABAP","ABC","ActionScript","ADA","Apache_Conf","AsciiDoc","Assembly_x86","AutoHotKey","BatchFile","C9Search","C_Cpp","Cirru","Clojure","Cobol","coffee","ColdFusion","CSharp","CSS","Curly","D","Dart","Diff","Dockerfile","Dot","Dummy","DummySyntax","Eiffel","EJS","Elixir","Elm","Erlang","Forth","FTL","Gcode","Gherkin","Gitignore","Glsl","golang","Groovy","HAML","Handlebars","Haskell","haXe","HTML","HTML_Ruby","INI","Io","Jack","Jade","Java","JavaScript","JSON","JSONiq","JSP","JSX","Julia","LaTeX","Lean","LESS","Liquid","Lisp","LiveScript","LogiQL","LSL","Lua","LuaPage","Lucene","Makefile","Markdown","Mask","MATLAB","MEL","MUSHCode","MySQL","Nix","ObjectiveC","OCaml","Pascal","Perl","pgSQL","PHP","Powershell","Praat","Prolog","Properties","Protobuf","Python","R","RDoc","RHTML","Ruby","Rust","SASS","SCAD","Scala","Scheme","SCSS","SH","SJS","Smarty","snippets","Soy_Template","Space","SQL","SQLServer","Stylus","SVG","Tcl","Tex","Text","Textile","Toml","Twig","Typescript","Vala","VBScript","Velocity","Verilog","VHDL","XML","XQuery","YAML","Django"]);
angular.module("codexen").config(["$authProvider","$httpProvider","apiUrl",function(e,t,r){e.baseUrl=r,t.defaults.useXDomain=!0,delete t.defaults.headers.common["X-Requested-With"],t.interceptors.push(["$q","$injector",function(e,t){return{responseError:function(r){switch(r.status){case 401:var n=t.get("$state");n.go("auth.signin")}return e.reject(r)}}}])}]);
angular.module("codexen").config(["$stateProvider","$urlRouterProvider",function(t,e){e.when("/auth","/auth/register").when("/auth/","/auth/register").otherwise("/"),t.state("auth",{url:"/auth",views:{"main-view":{templateUrl:"tpls/states/auth.tpl.html"}}}).state("auth.register",{url:"/register",templateUrl:"tpls/states/auth.register.tpl.html",controller:"AuthRegisterController as vm"}).state("auth.signin",{url:"/signin",templateUrl:"tpls/states/auth.signin.tpl.html",controller:"AuthSignInController as vm"}).state("settings",{url:"/settings",views:{"main-view":{templateUrl:"tpls/states/settings.tpl.html",controller:"SettingsController as vm"}}}).state("snippets",{url:"/snippets",views:{"main-view":{templateUrl:"tpls/states/snippets.list.tpl.html",controller:"SnippetsListController as vm"}},resolve:{mySnippets:["Snippet",function(t){return t.findMine().then(function(t){return t.data})}]}}).state("snippets.detail",{url:"/:id",templateUrl:"tpls/states/snippets.detail.tpl.html",controller:"SnippetsDetailController as vm"}).state("home",{url:"/",views:{"main-view":{templateUrl:"tpls/states/home.tpl.html",controller:"HomeController as vm"}}})}]);
angular.module("codexen").controller("AppController",["$scope",function(o){}]);
angular.module("codexen").directive("btnDeleteSnippet",["Modal","$rootScope",function(e,n){return{scope:{snippet:"=btnDeleteSnippet"},link:function(t,i){i.on("click",function(){e.deleteSnippet(t.snippet).result.then(function(e){n.$broadcast("snippetDeleted",e)},function(){console.log("delete snippet modal dismissed")})})}}}]);
angular.module("codexen").directive("btnEditSnippet",["Modal","$rootScope",function(n,t){return{scope:{snippet:"=btnEditSnippet"},link:function(e,i){i.on("click",function(){n.editSnippet(angular.copy(e.snippet)).result.then(function(n){t.$broadcast("snippetUpdated",n)},function(){console.log("edit snippet modal dismissed")})})}}}]);
angular.module("codexen").directive("btnNewSnippet",["Modal","$rootScope",function(n,e){return{link:function(o,t){t.on("click",function(){n.newSnippet().result.then(function(n){e.$broadcast("snippetUpdated",n)},function(){console.log("new snippet modal dismissed")})})}}}]);
angular.module("codexen").directive("sideNav",function(){return{templateUrl:"tpls/directives/side-nav.tpl.html",controller:"SideNavController as vm"}});
angular.module("codexen").directive("snippetItem",["Modal","$rootScope",function(e,t){return{restrict:"A",transclude:!0,template:"<div ng-transclude></div>",scope:{snippet:"=snippetItem"},link:function(n,i){n.$on("taggingRequested",function(i){i.stopPropagation(),i.preventDefault(),e.editSnippet(angular.copy(n.snippet)).result.then(function(e){t.$broadcast("snippetUpdated",e)},function(){console.log("edit snippet modal dismissed")})})}}}]);
angular.module("codexen").directive("tagItem",function(){return{restrict:"A",template:'#<span ng-bind="tag.name"></span>',scope:{tag:"=tagItem"},link:function(t,e){e.on("click",function(){t.$emit("tagSelected",t.tag)})}}});
angular.module("codexen").directive("tagList",function(){return{restrict:"A",template:'<p class="tags"><i class="fa fa-tags"></i> <a tag-item="tag" ng-repeat="tag in tags" href></a><a ng-if="!tags.length" ng-click="requestTagging($event)" href> Not tagged yet</a></p>',scope:{tags:"=tagList"},link:function(t,a){a.ready(function(){a.find("a").on("click",function(t){t.stopPropagation()})}),t.requestTagging=function(a){a.preventDefault(),a.stopPropagation(),t.$emit("taggingRequested")}}}});
"use strict";angular.module("ui.ace",[]).constant("uiAceConfig",{}).directive("uiAce",["uiAceConfig",function(e){if(angular.isUndefined(window.ace))throw new Error("ui-ace need ace to work... (o rly?)");var n=function(e,n,r){if(angular.isDefined(r.workerPath)){var a=window.ace.require("ace/config");a.set("workerPath",r.workerPath)}angular.isDefined(r.require)&&r.require.forEach(function(e){window.ace.require(e)}),angular.isDefined(r.showGutter)&&e.renderer.setShowGutter(r.showGutter),angular.isDefined(r.useWrapMode)&&n.setUseWrapMode(r.useWrapMode),angular.isDefined(r.showInvisibles)&&e.renderer.setShowInvisibles(r.showInvisibles),angular.isDefined(r.showIndentGuides)&&e.renderer.setDisplayIndentGuides(r.showIndentGuides),angular.isDefined(r.useSoftTabs)&&n.setUseSoftTabs(r.useSoftTabs),angular.isDefined(r.showPrintMargin)&&e.setShowPrintMargin(r.showPrintMargin),angular.isDefined(r.maxLines)&&(r.maxLines<0&&(r.maxLines=1/0),e.setOptions({maxLines:r.maxLines})),angular.isDefined(r.disableSearch)&&r.disableSearch&&e.commands.addCommands([{name:"unfind",bindKey:{win:"Ctrl-F",mac:"Command-F"},exec:function(){return!1},readOnly:!0}]),angular.isString(r.theme)&&e.setTheme("ace/theme/"+r.theme),angular.isString(r.mode)&&n.setMode("ace/mode/"+r.mode),angular.isDefined(r.firstLineNumber)&&(angular.isNumber(r.firstLineNumber)?n.setOption("firstLineNumber",r.firstLineNumber):angular.isFunction(r.firstLineNumber)&&n.setOption("firstLineNumber",r.firstLineNumber()));var i,o;if(angular.isDefined(r.advanced))for(i in r.advanced)o={name:i,value:r.advanced[i]},e.setOption(o.name,o.value);if(angular.isDefined(r.rendererOptions))for(i in r.rendererOptions)o={name:i,value:r.rendererOptions[i]},e.renderer.setOption(o.name,o.value);angular.forEach(r.callbacks,function(n){angular.isFunction(n)&&n(e)})};return{restrict:"EA",require:"?ngModel",link:function(r,a,i,o){var t=e.ace||{},s=angular.extend({},t,r.$eval(i.uiAce)),u=window.ace.edit(a[0]);u.$blockScrolling=1/0;var c,d,l=u.getSession(),f=function(){var e=arguments[0],n=Array.prototype.slice.call(arguments,1);angular.isDefined(e)&&r.$evalAsync(function(){if(!angular.isFunction(e))throw new Error("ui-ace use a function as callback.");e(n)})},g={onChange:function(e){return function(n){var a=l.getValue();!o||a===o.$viewValue||r.$$phase||r.$root.$$phase||r.$evalAsync(function(){o.$setViewValue(a)}),f(e,n,u)}},onBlur:function(e){return function(){f(e,u)}}};i.$observe("readonly",function(e){u.setReadOnly(!!e||""===e)}),o&&(o.$formatters.push(function(e){if(angular.isUndefined(e)||null===e)return"";if(angular.isObject(e)||angular.isArray(e))throw new Error("ui-ace cannot use an object or an array as a model");return e}),o.$render=function(){l.setValue(o.$viewValue)});var m=function(e,a){e!==a&&(s=angular.extend({},t,r.$eval(i.uiAce)),s.callbacks=[s.onLoad],s.onLoad!==t.onLoad&&s.callbacks.unshift(t.onLoad),l.removeListener("change",c),c=g.onChange(s.onChange),l.on("change",c),u.removeListener("blur",d),d=g.onBlur(s.onBlur),u.on("blur",d),n(u,l,s))};r.$watch(i.uiAce,m,!0),m(t),a.on("$destroy",function(){u.session.$stopWorker(),u.destroy()}),r.$watch(function(){return[a[0].offsetWidth,a[0].offsetHeight]},function(){u.resize(),u.renderer.updateFull()},!0),r.Infinity=-1,r.focus=function(){u.focus()},r.addCommand=u.commands.addCommand,a.on("click",function(){u.focus()})}}}]);
angular.module("codexen").filter("fromNow",function(){return function(n){return moment(n).fromNow()}});
angular.module("codexen").filter("searchSnippets",["$filter",function(r){return function(n,t){if(!angular.isString(t)||!angular.isArray(n))return angular.copy(n);if(t.match(/#(.+)|tag:(.+)/)){var a=t.match(/#(.+)/)?t.match(/#(.+)/)[1]:t.match(/tag:(.+)/)[1];return n.filter(function(r){return r.Tags.some(function(r){return r.name.match(new RegExp("^"+a))})})}return r("filter")(n,t)}}]);
angular.module("codexen").factory("Modal",["$modal",function(e){var t=function(){return e.open({templateUrl:"tpls/modals/new-snippet-modal.tpl.html",controller:"NewSnippetModalController as vm"})},l=function(t){return e.open({resolve:{snippet:function(){return t}},templateUrl:"tpls/modals/edit-snippet-modal.tpl.html",controller:"EditSnippetModalController as vm"})},n=function(t){return e.open({resolve:{snippet:function(){return t}},templateUrl:"tpls/modals/delete-snippet-modal.tpl.html",controller:"DeleteSnippetModalController as vm"})};return{newSnippet:t,editSnippet:l,deleteSnippet:n}}]);
angular.module("codexen").factory("Settings",["$http","apiUrl",function(n,t){var r=function(r){var a=t+"settings/change_password";return n.post(a,r)};return{changePassword:r}}]);
angular.module("codexen").factory("Snippet",["$http","$auth","apiUrl",function(e,t,n){var r=function(t){var r=n+"snippets/search";return e.get(r,{params:{user:t}})},a=function(t){var r=n+"snippets/my";return e.get(r,{params:t})},p=function(t){var r=n+"snippets/create";return e.post(r,t)},i=function(t,r){var a=n+"snippets/id/"+t;return e.get(a,{params:r})},s=function(t,r){var a=n+"snippets/id/"+t;return e.put(a,r)},u=function(t){var r=n+"snippets/id/"+t;return e["delete"](r)};return{findByUser:r,findMine:a,create:p,show:i,"delete":u,update:s}}]);
angular.module("codexen").factory("Tag",["$http","apiUrl",function(a,r){var n=function(n){var e=r+"tags/search";return a.get(e,{params:{name:n}})};return{findByName:n}}]);
angular.module("codexen").factory("User",["$http","apiUrl","$rootScope","$state",function(t,n,r,e){r.$on("userSignOut",function(){e.go("auth.signin")});var u=function(){var r=n+"auth/user";return t.get(r)};return{me:u}}]);
angular.module("codexen").controller("DeleteSnippetModalController",["$modalInstance","Snippet","snippet",function(e,n,t){var o=this;o.submit=function(){n["delete"](t.id).success(function(n){e.close(n)})},o.cancel=function(){e.dismiss()}}]);
angular.module("codexen").controller("EditSnippetModalController",["$modalInstance","aceModes","$log","Snippet","$rootScope","Tag","snippet",function(n,e,t,s,o,i,a){var c=this;c.aceModes=e,c.snippet=a,c.submit=function(){var e={description:c.snippet.description,callSign:c.snippet.callSign,mode:null==c.snippet.mode?null:c.snippet.mode.toLowerCase(),content:c.snippet.content,Tags:angular.isArray(c.snippet.Tags)?c.snippet.Tags.map(function(n){return n.name}):[]};s.update(c.snippet.id,e).success(function(e){console.log("updated res :",e),n.close(e)})},c.tagCandidates=[],c.refreshTagCandidates=function(n){return null==n||""===n?null:i.findByName(n).success(function(n){console.log("tags fetched!!",n),c.tagCandidates=n})},c.transform=function(n){return{id:0,name:n}},c.cancel=function(){n.dismiss()}}]);
angular.module("codexen").controller("NewSnippetModalController",["$modalInstance","aceModes","$log","Snippet","$rootScope","Tag",function(n,e,a,o,t,c){var s=this;s.aceModes=e,s.submit=function(){var e={description:s.description,callSign:s.callSign,mode:null==s.mode?null:s.mode.toLowerCase(),content:s.content,Tags:angular.isArray(s.Tags)?s.Tags.map(function(n){return n.name}):[]};o.create(e).success(function(e){n.close(e)})},s.tagCandidates=[],s.refreshTagCandidates=function(n){return null==n||""===n?null:c.findByName(n).success(function(n){console.log("tags fetched!!",n),s.tagCandidates=n})},s.transform=function(n){return{id:0,name:n}},s.cancel=function(){n.dismiss()}}]);
angular.module("codexen").controller("SideNavController",["$auth","User","$rootScope","$scope",function(n,t,e,o){var u=this;u.isAuthenticated=n.isAuthenticated();var c=function(){u.isAuthenticated&&t.me().success(function(n){console.log("currentUser",n),u.currentUser=n})};c(),u.signOut=function(){n.logout().then(function(){console.log("Sign Out"),e.$broadcast("userSignOut")})},o.$on("userSignIn",function(){u.isAuthenticated=!0,c()}),o.$on("userSignOut",function(){u.isAuthenticated=!1,u.currentUser=null})}]);
angular.module("codexen").controller("AuthRegisterController",["$auth","$log","$state","$rootScope",function(e,n,o,r){var t=this;t.isEmpty=function(e){for(var n in e)if(e.hasOwnProperty(n))return!1;return!0},t.signup=function(){e.signup({email:t.email,password:t.password,name:t.name,profileName:t.profileName}).then(function(e){r.$broadcast("userSignIn"),o.go("home")})}}]);
angular.module("codexen").controller("AuthSignInController",["$auth","$rootScope",function(n,o){var e=this;e.signIn=function(){n.login({email:e.email,password:e.password}).then(function(n){console.log(n),o.$broadcast("userSignIn")})}}]);
angular.module("codexen").controller("HomeController",["$auth","Snippet","$scope",function(o,e,n){}]);
angular.module("codexen").controller("SettingsController",["Settings",function(s){function r(){var r={password:n.password,newPassword:n.newPassword};s.changePassword(r).success(function(s){o(),n.isSuccess=!0,n.isError=!1}).error(function(){o(),n.isError=!0,n.isSuccess=!1})}function o(){n.password="",n.newPassword=""}var n=this;n.changePassword=r,n.isSuccess=!1,n.isError=!1}]);
angular.module("codexen").controller("SnippetsDetailController",["Snippet","$state","$rootScope","$scope","Modal",function(e,t,n,o,i){var p=this;p.isLoaded=!1;var s=t.params.id;e.show(s).success(function(e){p.snippet=e,p.isLoaded=!0}),o.$on("taggingRequested",function(e){e.stopPropagation(),e.preventDefault(),i.editSnippet(angular.copy(p.snippet)).result.then(function(e){n.$broadcast("snippetUpdated",e)},function(){console.log("edit snippet modal dismissed")})}),o.$on("snippetUpdated",function(e,t){console.log("event received",t),t.id===p.snippet.id&&(p.snippet=t)})}]);
angular.module("codexen").controller("SnippetsListController",["$auth","Snippet","$scope","$state","$scope","$filter","mySnippets","User",function(e,i,t,n,t,s,p,d){function r(){a.filtered=s("searchSnippets")(p,a.search),!a.search||!a.filtered[0]||a.snippetId&&a.snippetId===a.filtered[0].id||n.go("snippets.detail",{id:a.filtered[0].id})}var a=this;a.isLoading=!1,a.snippetId=parseInt(n.params.id),a.snippets=p,a.searchSnippets=r,a.searchSnippets(),a.isAuthenticated=e.isAuthenticated();var l=function(){a.isAuthenticated&&d.me().success(function(e){a.currentUser=e})};l(),t.$on("$stateChangeSuccess",function(e,i,t){return i.name.match(/snippets/)?(a.snippetId=parseInt(t.id),void(!a.snippetId&&a.filtered[0]&&n.go("snippets.detail",{id:a.filtered[0].id}))):null}),t.$on("snippetUpdated",function(e,i){p.some(function(e,t){return e.id===i.id?(p[t]=i,!0):!1})||p.unshift(i),r(),a.snippetId=i.id,n.go("snippets.detail",{id:i.id})}),t.$on("snippetDeleted",function(){if(n.is("snippets.detail")){for(var e=parseInt(n.params.id),i=0;i<a.snippets.length;i++)if(a.snippets[i].id===e){a.snippets.splice(i,1);break}for(var i=0;i<a.filtered.length;i++)if(a.filtered[i].id===e){null!=a.filtered[i+1]?n.go("snippets.detail",{id:a.filtered[i+1].id}):null!=a.filtered[i-1]?n.go("snippets.detail",{id:a.filtered[i-1].id}):n.go("snippets"),a.filtered.splice(i,1);break}}}),t.$on("tagSelected",function(e,i){e.stopPropagation(),t.$apply(function(){a.search="#"+i.name,r()})})}]);
angular.module("codexen").constant("apiUrl","http://codexen-server-dev.elasticbeanstalk.com/");
angular.module("templates").run(["$templateCache",function(n){n.put("tpls/directives/side-nav.tpl.html",'<div class="current-user">\n  <div ng-if="vm.currentUser">\n    <img width="30" class="img-circle" ng-src="http://www.gravatar.com/avatar/{{ vm.currentUser.email | gravatar }}">\n    <a href ng-bind="vm.currentUser.name"></a>\n    <span class="nav-control-group pull-right">\n      <a ui-sref="settings" class="btn btn-sm btn-default" ui-sref-active="active"}"><i class="fa fa-gears fa-fw"></i></a>\n      <a href class="btn btn-sm btn-default" ng-click="vm.signOut()"><i class="fa fa-sign-out fa-fw"></i></a>\n    </span>\n\n  </div>\n  <div ng-if="!vm.currentUser">\n    <span>Guest</span>\n\n    <span class="nav-control-group pull-right">\n      <a class="btn btn-sm btn-default" ui-sref="auth.register"><i class="fa fa-user-plus fa-fw"></i></a>\n      <a class="btn btn-sm btn-default" ui-sref="auth.signin"><i class="fa fa-sign-in fa-fw"></i></a>\n    </span>\n\n  </div>\n</div>\n\n<ul class="nav nav-pills nav-stacked">\n  <li>\n    <a btn-new-snippet href="#"><i class="fa fa-plus-square-o"></i> New Snippet</a>\n  </li>\n  <li class="divider"><hr></li>\n  <li>\n  </li>\n  <li ui-sref-active="active">\n    <a ui-sref="home"><i class="fa fa-home"></i> Home</a>\n  </li>\n  <li ui-sref-active="active">\n    <a ui-sref="snippets"><i class="fa fa-code"></i> Snippets</a>\n  </li>\n</ul>\n'),n.put("tpls/modals/delete-snippet-modal.tpl.html",'<div class="new-snippet-modal">\n  <div class="modal-header">\n    <h4>Delete Snippet</h4>\n  </div>\n\n  <div class="modal-body">\n    <p>\n      Are you sure to delete it?\n    </p>\n  </div>\n\n  <div class="modal-footer">\n    <button ng-click="vm.submit()" type="button" name="button" class="btn btn-danger">Delete It</button>\n    <button ng-click="vm.cancel()" type="button" name="button" class="btn btn-default">Cancel</button>\n  </div>\n</div>\n'),n.put("tpls/modals/edit-snippet-modal.tpl.html",'<div class="new-snippet-modal">\n  <div class="modal-header">\n    <h4>Edit Snippet</h4>\n  </div>\n\n  <div class="modal-body">\n    <div class="form-group">\n      <textarea ng-model="vm.snippet.description" name="description" class="form-control" placeholder="Description..."></textarea>\n    </div>\n    <div class="form-group">\n        <input ng-model="vm.snippet.callSign" type="text" name="callSign" class="inline-form-control" placeholder="Callsign">\n\n        <ui-select ng-model="vm.snippet.mode" style="display: inline-block;" theme="bootstrap">\n          <ui-select-match placeholder="Select Type">{{$select.selected}}</ui-select-match>\n          <ui-select-choices repeat="mode in vm.aceModes | filter:$select.search">\n            <div ng-bind-html="mode | highlight: $select.search"></div>\n          </ui-select-choices>\n        </ui-select>\n    </div>\n\n    <div class="form-group">\n      <div\n        ui-ace="{\n          mode: vm.snippet.mode.toLowerCase(),\n          theme:\'solarized_dark\',\n          useWrapMode : true\n\n        }"\n        ng-model="vm.snippet.content"\n      ></div>\n    </div>\n\n    <div class="form-group">\n      <ui-select multiple tagging="vm.transform" tagging-tokens="SPACE|,|/" ng-model="vm.snippet.Tags" theme="bootstrap">\n        <ui-select-match placeholder="Tags...">{{$item.name}}</ui-select-match>\n        <ui-select-choices repeat="tag in vm.tagCandidates" refresh="vm.refreshTagCandidates($select.search)"\n         refresh-delay="200">\n          <div><span ng-bind-html="tag.name | highlight: $select.search"></span><span ng-if="tag.isTag">(new)</span></div>\n        </ui-select-choices>\n      </ui-select>\n    </div>\n\n  </div>\n\n  <div class="modal-footer">\n    <button ng-click="vm.submit()" type="button" name="button" class="btn btn-primary">Submit</button>\n    <button ng-click="vm.cancel()" type="button" name="button" class="btn btn-default">Cancel</button>\n  </div>\n</div>\n'),n.put("tpls/modals/new-snippet-modal.tpl.html",'<div class="new-snippet-modal">\n  <div class="modal-header">\n    <h4>New Snippet</h4>\n  </div>\n\n  <div class="modal-body">\n    <div class="form-group">\n      <textarea ng-model="vm.description" name="description" class="form-control" placeholder="Description..."></textarea>\n    </div>\n    <div class="form-group">\n        <input ng-model="vm.callSign" type="text" name="callSign" class="inline-form-control" placeholder="Callsign">\n\n        <ui-select ng-model="vm.mode" style="display: inline-block;" on-select="vm.log(vm.mode.name.toLowerCase())" theme="bootstrap">\n          <ui-select-match placeholder="Select Type">{{$select.selected}}</ui-select-match>\n          <ui-select-choices repeat="mode in vm.aceModes | filter: $select.search">\n            <div ng-bind="::mode"></div>\n          </ui-select-choices>\n        </ui-select>\n    </div>\n\n    <div class="form-group">\n      <div\n        ui-ace="{\n          mode: vm.mode.toLowerCase(),\n          theme:\'solarized_dark\',\n          useWrapMode : true\n\n        }"\n        ng-model="vm.content"\n      ></div>\n    </div>\n\n    <div class="form-group">\n      <ui-select multiple tagging="vm.transform" tagging-tokens="SPACE|,|/" ng-model="vm.Tags" theme="bootstrap">\n        <ui-select-match placeholder="Tags...">{{$item.name}}</ui-select-match>\n        <ui-select-choices repeat="tag in vm.tagCandidates" refresh="vm.refreshTagCandidates($select.search)"\n         refresh-delay="100">\n          <div><span ng-bind-html="tag.name | highlight: $select.search"></span><span ng-if="tag.isTag">(new)</span></div>\n        </ui-select-choices>\n      </ui-select>\n    </div>\n\n  </div>\n\n  <div class="modal-footer">\n    <button ng-click="vm.submit()" type="button" name="button" class="btn btn-primary">Submit</button>\n    <button ng-click="vm.cancel()" type="button" name="button" class="btn btn-default">Cancel</button>\n  </div>\n</div>\n'),n.put("tpls/states/auth.register.tpl.html",'\n<form novalidate name="registerForm" ng-submit="registerForm.$valid?vm.signup():null">\n\n  <!-- Email -->\n  <div class="form-group">\n    <label for="email">E-mail</label>\n    <input ng-model="vm.email" type="email" id="email" name="email" class="form-control" placeholder="E-mail" required>\n\n    <div class="alert alert-danger" ng-if="registerForm.$submitted && !vm.isEmpty(registerForm.email.$error)">\n      <div ng-show="registerForm.email.$error.required">No E-mail given.</div>\n      <div ng-show="registerForm.email.$error.email">Invalid Address.</div>\n    </div>\n\n  </div>\n\n  <!-- Password -->\n  <div class="form-group">\n    <label for="password">Password</label>\n    <input ng-model="vm.password" type="password" id="password" name="password" class="form-control" placeholder="Password" required>\n\n    <div class="alert alert-danger" ng-if="registerForm.$submitted && !vm.isEmpty(registerForm.password.$error)">\n      <div ng-show="registerForm.password.$error.required">No password given.</div>\n    </div>\n\n  </div>\n\n  <hr>\n\n  <!-- Username -->\n  <div class="form-group">\n    <label for="name">Username</label>\n    <input ng-model="vm.name" ng-pattern="\'^[A-Za-z0-9\\-\\_]+$\'" type="text" id="name" name="name" class="form-control" required>\n    <div class="alert alert-danger" ng-if="registerForm.$submitted && !vm.isEmpty(registerForm.name.$error)">\n      <div ng-show="registerForm.name.$error.required">No Username given.</div>\n      <div ng-show="registerForm.name.$error.pattern">Username should be ^[A-Za-z0-9\\-\\_]+$ (only alphanumeric, hyphen, underscore characters)</div>\n    </div>\n  </div>\n\n\n  <!-- Profile name -->\n  <div class="form-group">\n    <label for="profileName">Profile name</label>\n    <input ng-model="vm.profileName" type="text" name="profileName" class="form-control" required>\n\n    <div class="alert alert-danger" ng-if="registerForm.$submitted && !vm.isEmpty(registerForm.profileName.$error)">\n      <div ng-show="registerForm.profileName.$error.required">No Profile name given.</div>\n    </div>\n  </div>\n\n\n  <div class="form-group">\n    <button ng-class="{\'btn-danger\':registerForm.$invalid, \'btn-primary\':registerForm.$valid}" type="submit" class="btn form-control">Register</button>\n  </div>\n</form>\n'),n.put("tpls/states/auth.signin.tpl.html",'<form ng-submit="vm.signIn()">\n  <div class="form-group">\n    <label for="email">E-mail</label>\n    <input ng-model="vm.email" type="text" id="email" name="name" class="form-control" placeholder="E-mail">\n  </div>\n\n  <div class="form-group">\n    <label for="password">Password</label>\n    <input ng-model="vm.password" type="password" id="password" name="name" class="form-control" placeholder="Password">\n  </div>\n\n  <div class="form-group">\n    <button type="submit" class="btn btn-primary form-control">Sign In</button>\n  </div>\n</form>\n'),n.put("tpls/states/auth.tpl.html",'<div class="auth-state container-fluid">\n  <div class="row">\n    <div class="col-xs-10 col-xs-offset-1 col-sm-8 col-sm-offset-2 col-lg-6 col-lg-offset-3 panel panel-default">\n\n      <div class="text-center">\n\n        <h1>Authentication</h1>\n\n        <div class="auth-control">\n          <a class="btn btn-default" ui-sref-active="active" ui-sref="auth.register"><i class="fa fa-user-plus fa-fw"></i> Register</a> or <a class="btn btn-default" ui-sref-active="active" ui-sref="auth.signin"><i class="fa fa-sign-in fa-fw"></i> Sign In</a>\n        </div>\n\n      </div>\n\n      <ui-view></ui-view>\n\n    </div>\n  </div>\n</div>\n'),n.put("tpls/states/home.tpl.html",'<div class="home-state">\n  <h1 class="jumbotron">Codexen App <small>v0.1</small></h1>\n  <p>\n    App for Code snippets<br>\n  </p>\n\n  <p>\n    © 2015 MAISIN&CO.,Inc.\n  </p>\n</div>\n'),n.put("tpls/states/settings.tpl.html",'<div class="settings-state container-fluid">\n  <div class="row">\n    <div class="col-xs-10 col-xs-offset-1 col-sm-8 col-sm-offset-2 col-lg-6 col-lg-offset-3 panel panel-default">\n      <h1><i class="fa fa-gears"></i> Settings</h1>\n      <p>\n        Some settings...\n      </p>\n      <hr>\n      <div class="section">\n        <h4>Change Password</h4>\n        <form ng-submit="vm.changePassword()">\n          <alert type="success" ng-show="vm.isSuccess" close="vm.isSuccess=false">\n            Successfully changed!!\n          </alert>\n          <alert type="danger" ng-show="vm.isError" close="vm.isError=false">\n            Request failed!!\n          </alert>\n          <div class="form-group">\n            <label for="password">Current Password</label>\n            <input ng-model="vm.password" class="form-control" type="password" name="password"  placeholder="Current Password">\n          </div>\n          <div class="form-group">\n            <label for="newPassword"> New Password</label>\n            <input ng-model="vm.newPassword" class="form-control" type="password" name="newPassword" placeholder="New Password">\n          </div>\n          <div class="form-group">\n            <button type="submit" class="btn btn-primary form-control">Change Password</button>\n          </div>\n        </form>\n      </div>\n    </div>\n  </div>\n</div>\n'),n.put("tpls/states/snippets.detail.tpl.html",'<div class="snippets-detail-state">\n\n  <div class="detail-header">\n    <span class="detail-header-title">\n      <small>callsign</small>\n      <span ng-bind="vm.snippet.callSign"></span>\n      <small><span ng-bind="vm.snippet.updatedAt|fromNow"></span> <i class="fa fa-clock-o"></i></small>\n    </span>\n    <span class="detail-header-control pull-right">\n      <!-- <button type="button" name="button" class="btn btn-default"><i class="fa fa-share"></i></button> -->\n      <button btn-edit-snippet="vm.snippet" type="button" name="button" class="btn btn-default"><i class="fa fa-edit"></i></button>\n      <button btn-delete-snippet="vm.snippet" type="button" name="button" class="btn btn-danger"><i class="fa fa-trash"></i></button>\n    </span>\n  </div>\n\n  <div class="detail-body">\n\n    <div ng-if="!vm.isLoaded" class="">\n      Loadding\n    </div>\n\n    <div ng-if="vm.isLoaded" class="">\n      <p ng-bind="vm.snippet.description"></p>\n\n      <div tag-list="vm.snippet.Tags"></div>\n\n      <div ui-ace="{\n        showGutter: false,\n        useWrapMode : true,\n        mode:vm.snippet.mode.toLowerCase(),\n        maxLines: -1,\n        theme:\'solarized_dark\',\n        rendererOptions: {\n            maxLinks: Infinity\n        }\n      }"\n      readonly\n      ng-model="vm.snippet.content"></div>\n    </div>\n  </div>\n</div>\n'),n.put("tpls/states/snippets.list.tpl.html",'<div class="snippets-list-state">\n\n  <div class="left-pane">\n    <div class="snippet-search">\n      <input ng-model="vm.search" ng-change="vm.searchSnippets()" type="text" name="name" class="form-control" placeholder="Search ..." autocomplete="off">\n    </div>\n    <ul class="snippet-list">\n\n      <li ng-if="vm.isLoading" class="message-item">\n        <h4>\n          Loading\n        </h4>\n      </li>\n\n      <li ng-if="!vm.isLoading && vm.snippets==0 && !vm.isGuest" class="message-item">\n        <h4>\n          Empty List\n        </h4>\n        <button btn-new-snippet class="btn btn-default"><i class="fa fa-plus-square-o"></i> New Snippet</button>\n      </li>\n\n      <li ng-if="!vm.isLoading && vm.isGuest" class="message-item">\n        <h4>\n          Sign In to access\n        </h4>\n        <a ui-sref="auth.signin" class="btn btn-default"><i class="fa fa-signin"></i> Sign In</a>\n      </li>\n\n      <li snippet-item="snippet" ng-repeat="snippet in vm.filtered" ui-sref="snippets.detail({id:snippet.id})" ng-class="{active:vm.snippetId===snippet.id}">\n        <div class="media">\n          <div class="media-left">\n            <img width="25" height="25" class="img-circle" ng-src="http://www.gravatar.com/avatar/{{ vm.currentUser.email | gravatar }}" alt="" />\n          </div>\n          <div class="media-body">\n            <p ng-bind="snippet.callSign" class="call-sign">\n            </p>\n            <p ng-bind="snippet.description">\n            </p>\n            <p class="created-at">\n              <span ng-bind="snippet.updatedAt|fromNow"></span>\n            </p>\n          </div>\n        </div>\n        <div tag-list="snippet.Tags"></div>\n      </li>\n    </ul>\n  </div>\n\n  <div class="right-pane">\n    <div ng-if="\'snippets\'|isState">\n      No snippet selected.\n    </div>\n    <div ui-view></div>\n  </div>\n\n\n</div>\n')}]);